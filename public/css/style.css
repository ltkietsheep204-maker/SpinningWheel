/* ================================================================
   ĐẠI VIỆT SỬ KÝ — CINEMATIC DARK UI v5.0
   Palette: #121212 bg · #C3073F red · #D4AF37 gold · #FFFFFF text
================================================================ */
@import url('https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,400&family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;0,800;0,900;1,400&display=swap');
@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css');

/* ── Variables ── */
:root {
  --bg:          #0e0e12;
  --bg2:         #161620;
  --bg3:         #1e1e2a;
  --red:         #C3073F;
  --red-dark:    #8A0303;
  --red-dim:     rgba(195,7,63,0.18);
  --gold:        #D4AF37;
  --gold-light:  #F0D060;
  --gold-dim:    rgba(212,175,55,0.18);
  --gold-glow:   rgba(212,175,55,0.45);
  --white:       #FFFFFF;
  --text:        #F0EDE8;
  --text-sub:    #A0998E;
  --glass-bg:    rgba(14,14,18,0.55);
  --glass-border:rgba(212,175,55,0.22);
  --glass-hover: rgba(14,14,18,0.75);
  --radius:      14px;
  --radius-lg:   22px;
  --fh:          'Playfair Display', serif;
  --fb:          'Be Vietnam Pro', sans-serif;
  --transition:  0.3s cubic-bezier(0.34,1.3,0.64,1);
}

*,*::before,*::after { margin:0; padding:0; box-sizing:border-box; }
html { scroll-behavior: smooth; }

::-webkit-scrollbar { width:5px; }
::-webkit-scrollbar-track { background: var(--bg); }
::-webkit-scrollbar-thumb { background: var(--gold); border-radius:3px; }

body {
  font-family: var(--fb);
  background: var(--bg);
  color: var(--text);
  min-height: 100vh;
  overflow-x: hidden;
  line-height: 1.7;
}

#particleCanvas {
  position: fixed; inset: 0;
  pointer-events: none; z-index: 0; opacity: 0.4;
}

/* ════════════════════ HEADERS ════════════════════ */
.header {
  position: relative; z-index: 100;
  background: linear-gradient(180deg, rgba(10,10,14,0.98) 0%, rgba(14,14,18,0.95) 100%);
  border-bottom: 1px solid rgba(212,175,55,0.18);
  box-shadow: 0 4px 30px rgba(0,0,0,0.7);
}

.header-inner {
  max-width: 1200px; margin: 0 auto;
  display: flex; align-items: center; gap: 20px;
  padding: 14px 32px; position: relative;
}

.header-inner::after {
  content: '';
  position: absolute; bottom: 0; left: 0; right: 0; height: 1px;
  background: linear-gradient(90deg, transparent 0%, var(--gold) 30%, var(--gold-light) 50%, var(--gold) 70%, transparent 100%);
  box-shadow: 0 0 14px var(--gold-glow);
}

.header-logo {
  height: 60px; width: auto; object-fit: contain;
  filter: drop-shadow(0 0 14px rgba(212,175,55,0.55));
  transition: transform 0.4s ease, filter 0.4s ease;
}
.header-logo:hover { transform: scale(1.06) rotate(-2deg); filter: drop-shadow(0 0 22px var(--gold-glow)); }

.header-text h1 {
  font-family: var(--fh);
  font-size: clamp(0.95rem, 2.5vw, 1.7rem);
  font-weight: 900;
  color: var(--gold);
  text-shadow: 0 0 15px rgba(212,175,55,0.4);
  letter-spacing: 2px; line-height: 1.15;
  text-transform: uppercase;
}
.header-text p {
  font-family: var(--fb); font-weight: 500;
  color: var(--text-sub); font-size: 0.65rem;
  letter-spacing: 3px; text-transform: uppercase; margin-top: 4px;
}

@keyframes shimmer { 0%{background-position:0%} 100%{background-position:300%} }

.nav {
  position: sticky; top: 0; z-index: 200;
  display: flex; justify-content: flex-start; gap: 6px;
  padding: 9px 20px;
  background: rgba(10,10,14,0.94); backdrop-filter: blur(20px);
  border-bottom: 1px solid rgba(212,175,55,0.1);
}

.nav a {
  font-family: var(--fb); font-weight: 600;
  font-size: 0.73rem; letter-spacing: 1.2px; text-transform: uppercase;
  text-decoration: none; color: var(--text-sub);
  padding: 7px 20px; border-radius: 30px;
  border: 1px solid transparent;
  transition: all 0.28s ease; position: relative; overflow: hidden;
}
.nav a:hover, .nav a.active {
  color: var(--gold-light);
  border-color: rgba(212,175,55,0.35);
  background: rgba(212,175,55,0.08);
  box-shadow: 0 0 14px rgba(212,175,55,0.2);
}

/* ════════════════════ COMPONENTS ════════════════════ */
.container { max-width: 1000px; margin: 0 auto; padding: 40px 20px; position: relative; z-index: 1; }

.glass {
  background: var(--glass-bg);
  border: 1px solid var(--glass-border);
  border-radius: var(--radius);
  backdrop-filter: blur(16px) saturate(1.5);
  -webkit-backdrop-filter: blur(16px) saturate(1.5);
  box-shadow: 0 8px 40px rgba(0,0,0,0.55), inset 0 1px 0 rgba(212,175,55,0.07);
  transition: transform 0.28s ease, box-shadow 0.28s ease;
}
.glass:hover { transform: translateY(-2px); box-shadow: 0 14px 50px rgba(0,0,0,0.65), 0 0 28px var(--gold-dim); }
.glass::before {
  content: ''; position: absolute; top:0; left:0; right:0; height:2px;
  background: linear-gradient(90deg, transparent, var(--gold) 30%, var(--gold-light) 50%, var(--gold) 70%, transparent);
  opacity: 0.55; border-radius: var(--radius) var(--radius) 0 0;
}

.card { position: relative; padding: 28px 28px; margin-bottom: 24px; }
.card h2 { font-family: var(--fh); font-weight: 700; color: var(--gold-light); font-size: 1.35rem; letter-spacing: 0.5px; margin-bottom: 18px; text-transform: uppercase; }
.card h3 { font-family: var(--fh); font-weight: 600; color: var(--gold-light); font-size: 1.05rem; margin-bottom: 14px; text-transform: uppercase; }

.gold-divider { display: flex; align-items: center; gap: 14px; margin: 36px 0; color: rgba(212,175,55,0.35); font-size: 1.1rem; }
.gold-divider::before, .gold-divider::after { content:''; flex:1; height:1px; }
.gold-divider::before { background: linear-gradient(90deg, transparent, rgba(212,175,55,0.5)); }
.gold-divider::after  { background: linear-gradient(90deg, rgba(212,175,55,0.5), transparent); }

.btn {
  display: inline-flex; align-items: center; justify-content: center; gap: 8px;
  padding: 12px 32px; border: none; border-radius: 10px;
  font-family: var(--fb); font-size: 0.82rem; font-weight: 700;
  letter-spacing: 1.2px; text-transform: uppercase;
  cursor: pointer; text-decoration: none; position: relative; overflow: hidden;
  transition: var(--transition); user-select: none;
}
.btn::after {
  content: ''; position: absolute; top:-50%; left:-80%;
  width: 55%; height: 200%;
  background: linear-gradient(105deg, transparent, rgba(255,255,255,0.3), transparent);
  transform: skewX(-20deg); transition: left 0.55s ease;
}
.btn:hover::after { left: 135%; }
.btn:active { transform: scale(0.96) translateY(1px); }
.btn:disabled { opacity: 0.35; cursor: not-allowed; transform: none !important; }

.btn-gold {
  background: linear-gradient(130deg, #B8860B, #D4AF37, #F0D060, #D4AF37, #B8860B);
  background-size: 300%; color: #1a0800;
  border: 1px solid rgba(240,208,96,0.4);
  box-shadow: 0 4px 22px rgba(212,175,55,0.45), inset 0 1px 0 rgba(255,255,255,0.3);
  font-weight: 800;
}
.btn-gold:hover {
  background-position: 100% 0;
  box-shadow: 0 0 30px rgba(212,175,55,0.7), 0 6px 30px rgba(212,175,55,0.4);
  transform: translateY(-2px) scale(1.025);
}
.btn-gold i { color: #1a0800; }

.btn-red {
  background: transparent; color: var(--red);
  border: 1.5px solid var(--red);
  box-shadow: inset 0 0 0 0 var(--red);
  transition: all 0.3s ease;
}
.btn-red:hover {
  background: var(--red); color: #fff;
  box-shadow: 0 0 20px rgba(195,7,63,0.5);
  transform: translateY(-2px);
}

.btn-success { background: linear-gradient(135deg,#1B5E20,#2E7D32,#388E3C); color: #B9F6CA; border:1px solid rgba(80,200,80,0.3); }
.btn-danger  { background: linear-gradient(135deg,#7f0000,#C62828); color: #FFCDD2; border:1px solid rgba(255,80,80,0.3); }
.btn-sm { padding: 7px 18px; font-size: 0.73rem; }

.form-group { margin-bottom: 20px; }
.form-group label { display:block; font-family:var(--fb); font-weight:600; font-size:0.72rem; letter-spacing:1.5px; text-transform:uppercase; color:var(--gold); margin-bottom:8px; }
.form-group input, .form-group textarea, .form-group select {
  width:100%; padding:11px 15px;
  background:rgba(0,0,0,0.45); border:1px solid rgba(212,175,55,0.2); border-radius:8px;
  color:var(--text); font-family:var(--fb); font-size:0.93rem; transition:all 0.3s; outline:none;
}
.form-group input:focus, .form-group textarea:focus, .form-group select:focus {
  border-color:var(--gold); background:rgba(10,10,0,0.6); box-shadow:0 0 0 3px rgba(212,175,55,0.1);
}
.form-group textarea { resize:vertical; min-height:76px; }
.form-group select option { background:#1a1a22; }

.toast { position:fixed; top:20px; right:20px; display:flex; align-items:center; gap:10px; padding:13px 20px; border-radius:12px; font-family:var(--fb); font-size:0.83rem; font-weight:600; letter-spacing:0.5px; color:#fff; z-index:9999; box-shadow:0 8px 30px rgba(0,0,0,0.5); backdrop-filter:blur(10px); animation:toastIn 0.35s cubic-bezier(0.34,1.56,0.64,1); }
.toast.success { background:rgba(20,80,30,0.95); border:1px solid #4CAF50; }
.toast.error   { background:rgba(100,5,30,0.95); border:1px solid var(--red); }
.toast.info    { background:rgba(10,30,90,0.95); border:1px solid #42A5F5; }
@keyframes toastIn { from { transform:translateX(110%) scale(0.8); opacity:0; } to { transform:translateX(0) scale(1); opacity:1; } }

.loading-state { text-align:center; padding:40px; color:var(--text-sub); font-family:var(--fb); font-weight:600; letter-spacing:2px; font-size:0.82rem; }
.loading-state::after { content:''; display:inline-block; width:26px; height:26px; border:2px solid rgba(212,175,55,0.2); border-top-color:var(--gold); border-radius:50%; animation:spinLoad 0.7s linear infinite; margin-left:10px; vertical-align:middle; }
@keyframes spinLoad { to { transform:rotate(360deg); } }
.hidden { display:none !important; }

/* ════════════════════ INDEX HERO ════════════════════ */
.hero { text-align:center; padding: 50px 20px 40px; position:relative; z-index:1; }
.hero h2 {
  font-family: var(--fh); font-size: clamp(1.4rem, 4vw, 2.5rem); font-weight:900;
  color: var(--gold);
  text-shadow: 0 0 15px rgba(212,175,55,0.4);
  line-height:1.3; margin-bottom:14px; text-transform:uppercase; letter-spacing: 2px;
}
.hero p { color:var(--text-sub); font-size:1.05rem; max-width:600px; margin:0 auto 46px; font-weight:400; line-height:1.9; }
.hero-logo { width:min(450px,80vw); margin:0 auto 28px; display:block; filter:drop-shadow(0 0 30px var(--gold-glow)) drop-shadow(0 0 60px rgba(138,3,3,0.35)); animation:logoFloat 4s ease-in-out infinite; }
@keyframes logoFloat { 0%,100%{transform:translateY(0) scale(1)} 50%{transform:translateY(-10px) scale(1.02)} }

/* GENERALS ROW — POP OUT (SPIDERMAN STYLE) */
.generals-row {
  display: flex; justify-content: center; align-items: flex-end;
  gap: 15px; margin: 40px 0 60px; flex-wrap: nowrap;
  perspective: 1000px; height: 380px; 
}

.general-card {
  position: relative; width: 220px; height: 100%;
  cursor: pointer; transition: transform 0.4s cubic-bezier(0.34,1.3,0.64,1);
  display: flex; flex-direction: column; align-items: center; justify-content: flex-end;
  z-index: 1;
}
.general-card:hover { transform: scale(1.15) translateY(-20px); z-index: 10; }

.general-img-wrap {
  width: 100%; height: 100%; position: relative;
  background: transparent; border: none; box-shadow: none; border-radius: 0;
  display: flex; align-items: flex-end; justify-content: center;
}
.general-img-wrap img {
  max-width: 115%; max-height: 105%;
  width: auto; height: auto;
  object-fit: contain; object-position: bottom center;
  filter: drop-shadow(0 10px 15px rgba(0,0,0,0.8));
  transition: all 0.5s ease;
  mask-image: linear-gradient(to top, transparent 0%, black 15%, black 100%);
  -webkit-mask-image: linear-gradient(to top, transparent 0%, black 15%, black 100%);
}
.general-card:hover .general-img-wrap img {
  filter: drop-shadow(0 0 30px rgba(212,175,55,0.6)) drop-shadow(0 10px 30px rgba(0,0,0,0.9));
  transform: scale(1.03);
}

.general-label {
  position: absolute; bottom: 20px; left: 0; right: 0;
  text-align: center; pointer-events: none;
  opacity: 0.7; transition: all 0.3s;
  text-shadow: 0 4px 8px rgba(0,0,0,1);
}
.general-card:hover .general-label { opacity: 1; transform: translateY(5px); }
.general-label h4 {
  font-family: var(--fh); color: var(--gold-light); font-size: 1.1rem; letter-spacing: 1px;
  background: linear-gradient(to bottom, #fff, #D4AF37);
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  filter: drop-shadow(0 2px 4px rgba(0,0,0,0.8));
}
.general-label p { font-size: 0.75rem; color: #bbb; margin-top: 2px; }

/* Grid items */
.feature-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:18px; margin-top:36px; }
.feature-card { position:relative; background:rgba(18,18,26,0.75); border:1px solid rgba(212,175,55,0.18); border-radius:var(--radius); padding:28px 20px; text-align:center; text-decoration:none; color:var(--text); backdrop-filter:blur(10px); transition:all 0.4s ease; overflow:hidden; }
.feature-card::before { content:''; position:absolute; inset:0; background:linear-gradient(135deg, rgba(138,3,3,0.12), transparent, rgba(212,175,55,0.06)); opacity:0; transition:opacity 0.4s; }
.feature-card:hover::before { opacity:1; }
.feature-card:hover { transform:translateY(-6px); border-color:rgba(212,175,55,0.5); box-shadow:0 18px 45px rgba(0,0,0,0.6), 0 0 28px var(--gold-dim); }
.feature-card .icon { font-size:44px; margin-bottom:12px; display:block; transition:transform 0.3s; color: var(--gold); }
.feature-card:hover .icon { transform:scale(1.15) rotate(-5deg); text-shadow:0 0 20px var(--gold); }
.feature-card h3 { font-family:var(--fh); color:var(--gold-light); font-size:0.95rem; letter-spacing:0.8px; margin-bottom:8px; text-transform: uppercase; }
.feature-card p  { font-size:0.83rem; color:var(--text-sub); line-height:1.7; }

.howto { background:rgba(14,14,18,0.7); border:1px solid rgba(212,175,55,0.14); border-radius:var(--radius); padding:28px 32px; position:relative; overflow:hidden; }
.howto::before { content:''; position:absolute; top:0; left:0; right:0; height:2px; background:linear-gradient(90deg, transparent, var(--gold), transparent); }
.howto h3 { font-family:var(--fh); font-weight:700; color:var(--gold-light); font-size:0.95rem; letter-spacing:2px; text-transform:uppercase; text-align:center; margin-bottom:16px; }
.howto ol { padding-left:20px; }
.howto li { color:var(--text-sub); font-size:0.88rem; line-height:2; margin-bottom:3px; }
.howto li span { color:var(--gold-light); font-weight:600; }

.prizes-preview { display:grid; grid-template-columns:repeat(auto-fit,minmax(128px,1fr)); gap:10px; margin-top:18px; }
.prize-item { background:rgba(0,0,0,0.3); border:1px solid rgba(212,175,55,0.14); border-radius:10px; padding:12px 8px; text-align:center; transition:all 0.28s; }
.prize-item:hover { border-color:rgba(212,175,55,0.4); transform:translateY(-3px); }
.prize-item .p-icon { font-size:1.5rem; margin-bottom:5px; display:block; color:var(--gold); }
.prize-item .p-name { font-family:var(--fh); color:var(--gold-light); font-size:0.77rem; font-weight:600; }
.prize-item .p-pct  { font-size:0.7rem; color:var(--text-sub); margin-top:3px; }

.admin-stats { display:grid; grid-template-columns:repeat(auto-fit, minmax(125px,1fr)); gap:14px; margin-bottom:26px; }
.stat-card { background:rgba(14,14,18,0.7); border:1px solid rgba(212,175,55,0.18); border-radius:12px; padding:20px 14px; text-align:center; backdrop-filter:blur(8px); position:relative; overflow:hidden; transition:all 0.3s; }
.stat-card:hover { border-color:rgba(212,175,55,0.5); transform:translateY(-3px); }
.stat-card::before { content:''; position:absolute; top:0; left:0; right:0; height:2px; background:linear-gradient(90deg, transparent, var(--gold), transparent); }
.stat-num { font-family:var(--fh); font-size:2.1rem; font-weight:900; background:linear-gradient(135deg, var(--gold-light), #FF8C00); -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text; line-height:1.1; }
.stat-lbl { font-family:var(--fb); font-size:0.7rem; font-weight:600; letter-spacing:1.5px; text-transform:uppercase; color:var(--text-sub); margin-top:5px; }
.tabs { display:flex; gap:0; margin-bottom:26px; border-bottom:1px solid rgba(212,175,55,0.12); }
.tab { padding:11px 22px; font-family:var(--fb); font-size:0.76rem; font-weight:600; letter-spacing:1.5px; text-transform:uppercase; color:var(--text-sub); cursor:pointer; border-bottom:2px solid transparent; margin-bottom:-1px; transition:all 0.3s; }
.tab:hover { color:var(--gold-light); }
.tab.active { color:var(--gold-light); border-bottom-color:var(--gold); text-shadow:0 0 10px rgba(212,175,55,0.5); }
.tab-content { display:none; }
.tab-content.active { display:block; }
.q-list { max-height:600px; overflow-y:auto; padding-right:4px; }
.q-item { padding:14px 16px; background:rgba(0,0,0,0.28); border:1px solid rgba(212,175,55,0.1); border-radius:9px; margin-bottom:8px; transition:all 0.22s; }
.q-item:hover { border-color:rgba(212,175,55,0.32); background:rgba(18,8,3,0.45); }
.q-num { color:var(--gold); font-weight:700; margin-right:8px; font-family:var(--fh); }
.q-text { font-weight:600; margin-bottom:7px; font-size:0.92rem; }
.q-opts { display:grid; grid-template-columns:1fr 1fr; gap:3px; font-size:0.8rem; color:var(--text-sub); padding-left:14px; }
.q-opts .correct-opt { color:#66BB6A; font-weight:700; }
.q-actions { margin-top:10px; display:flex; gap:7px; }
.search-wrap { position:relative; margin-bottom:18px; }
.search-wrap::before { content:'002'; font-family:'Font Awesome 6 Free'; font-weight:900; position:absolute; left:16px; top:50%; transform:translateY(-50%); color:var(--gold); }
.search-input { width:100%; padding:11px 14px 11px 42px; background:rgba(0,0,0,0.4); border:1px solid rgba(212,175,55,0.18); border-radius:40px; color:var(--text); font-family:var(--fb); font-size:0.88rem; outline:none; transition:all 0.3s; }
.search-input:focus { border-color:var(--gold); box-shadow:0 0 0 3px rgba(212,175,55,0.09); }
.qr-display { text-align:center; padding:8px 0; }
.qr-display img { max-width:270px; border:3px solid rgba(212,175,55,0.5); border-radius:14px; margin:18px auto; display:block; box-shadow:0 0 30px rgba(212,175,55,0.2); transition:transform 0.3s; }
.qr-display img:hover { transform:scale(1.04); }
.qr-url-box { background:rgba(0,0,0,0.4); border:1px solid rgba(212,175,55,0.18); border-radius:8px; padding:9px 16px; font-size:0.8rem; color:var(--text-sub); word-break:break-all; margin-top:10px; font-family:monospace; }
.modal-overlay { position:fixed; inset:0; background:rgba(0,0,0,0.88); display:none; align-items:center; justify-content:center; z-index:800; backdrop-filter:blur(8px); }
.modal-overlay.show { display:flex; }
.modal-box { background:linear-gradient(160deg,#110810,#1A0A18); border:1px solid rgba(212,175,55,0.4); border-radius:18px; padding:34px 34px 28px; max-width:480px; width:92%; max-height:90vh; overflow-y:auto; box-shadow:0 20px 80px rgba(0,0,0,0.8),0 0 40px rgba(212,175,55,0.1); animation:popIn 0.35s ease; }
.modal-box h3 { font-family:var(--fh); color:var(--gold-light); text-align:center; font-size:1.15rem; margin-bottom:22px; letter-spacing:1px; }

/* ════════════════════ QUIZ LAYOUT ════════════════════ */
.quiz-page { position: relative; min-height: 100vh; display: flex; flex-direction: column; }
.quiz-bg { position: fixed; inset: 0; z-index: 0; background: var(--bg); }
.quiz-bg img { width: 100%; height: 100%; object-fit: cover; object-position: center top; opacity: 0.1; filter: saturate(1.2) brightness(0.6); }
.quiz-bg::after { content: ''; position: absolute; inset: 0; background: linear-gradient(to bottom, rgba(14,14,18,0.55) 0%, rgba(14,14,18,0.25) 35%, rgba(14,14,18,0.7) 65%, rgba(14,14,18,0.97) 100%), linear-gradient(to right, rgba(14,14,18,0.5) 0%, transparent 40%, transparent 60%, rgba(14,14,18,0.5) 100%); }
.quiz-topbar { position: relative; z-index: 50; display: flex; align-items: center; justify-content: space-between; padding: 14px 24px; background: rgba(10,10,14,0.7); backdrop-filter: blur(16px); border-bottom: 1px solid rgba(212,175,55,0.12); }
.quiz-back-btn { width: 40px; height: 40px; border-radius: 50%; background: rgba(255,255,255,0.06); border: 1px solid rgba(212,175,55,0.25); display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.28s; color: var(--text); font-size: 1.1rem; text-decoration: none; }
.quiz-back-btn:hover { background: rgba(212,175,55,0.15); border-color: var(--gold); color: var(--gold-light); }
.quiz-progress-badge { font-family: var(--fh); font-size: 0.8rem; font-weight: 700; letter-spacing: 2px; color: var(--gold-light); padding: 7px 22px; border-radius: 30px; border: 1px solid rgba(212,175,55,0.35); background: rgba(0,0,0,0.5); backdrop-filter: blur(8px); box-shadow: 0 0 12px rgba(212,175,55,0.15); }
.quiz-logo { height: 40px; width: auto; object-fit: contain; filter: drop-shadow(0 0 8px rgba(212,175,55,0.5)); }
.quiz-main { position: relative; z-index: 10; flex: 1; display: flex; flex-direction: column; justify-content: flex-end; padding: 20px 16px 36px; max-width: 680px; margin: 0 auto; width: 100%; }
.question-card { background: rgba(10,10,16,0.85); border: 1px solid rgba(212,175,55,0.25); border-radius: var(--radius-lg); padding: 32px 28px 24px; backdrop-filter: blur(24px) saturate(1.8); box-shadow: 0 8px 50px rgba(0,0,0,0.75), inset 0 1px 0 rgba(212,175,55,0.1); margin-bottom: 18px; position: relative; overflow: hidden; animation: slideUp 0.55s cubic-bezier(0.34,1.2,0.64,1) both; z-index: 20; }
.question-card::before { content: ''; position: absolute; top:0; left:0; right:0; height:3px; background: linear-gradient(90deg, transparent, var(--gold) 25%, var(--gold-light) 50%, var(--gold) 75%, transparent); box-shadow: 0 0 12px rgba(212,175,55,0.6); }
.question-tag { display: inline-flex; align-items: center; gap: 6px; background: rgba(138,3,3,0.45); border: 1px solid rgba(195,7,63,0.4); border-radius: 20px; padding: 4px 14px; font-family: var(--fb); font-size: 0.68rem; font-weight: 700; color: #FF8080; letter-spacing: 1.5px; text-transform: uppercase; margin-bottom: 18px; }
.quiz-question-text { font-family: var(--fh); font-weight: 700; font-size: clamp(1rem, 2.5vw, 1.28rem); color: var(--white); line-height: 1.85; text-align: center; min-height: 2.5em; }
.answers-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; animation: slideUp 0.6s cubic-bezier(0.34,1.2,0.64,1) 0.08s both; }
.answer-btn { position: relative; overflow: hidden; display: flex; align-items: center; gap: 12px; padding: 14px 16px; background: rgba(8,8,16,0.55); border: 1.5px solid rgba(255,255,255,0.1); border-radius: var(--radius); cursor: pointer; transition: all 0.3s cubic-bezier(0.34,1.3,0.64,1); backdrop-filter: blur(14px); text-align: left; }
.answer-btn::before { content: ''; position: absolute; inset:0; background: linear-gradient(135deg, rgba(212,175,55,0.06), transparent); opacity: 0; transition: opacity 0.3s; }
.answer-btn:hover::before { opacity: 1; }
.answer-btn:hover { border-color: var(--gold); background: rgba(20,15,5,0.7); box-shadow: 0 0 18px rgba(212,175,55,0.25), inset 0 0 12px rgba(212,175,55,0.07); transform: scale(1.025); }
.answer-label { min-width: 34px; height: 34px; border-radius: 50%; background: rgba(138,3,3,0.5); border: 1.5px solid rgba(212,175,55,0.4); display: flex; align-items: center; justify-content: center; font-family: var(--fh); font-weight: 700; font-size: 0.8rem; color: var(--gold-light); flex-shrink: 0; transition: all 0.3s; }
.answer-btn:hover .answer-label { background: var(--gold); color: #1a0800; border-color: var(--gold-light); }
.answer-text { font-family: var(--fb); font-size: 0.88rem; font-weight: 500; color: var(--text); line-height: 1.5; }
.answer-btn.selected { border-color: var(--gold) !important; background: rgba(25,18,0,0.7) !important; box-shadow: 0 0 20px rgba(212,175,55,0.3), inset 0 0 14px rgba(212,175,55,0.08) !important; }
.answer-btn.selected .answer-label { background: var(--gold); color: #1a0800; }
.answer-btn.correct { border-color: #2E8B57 !important; background: rgba(10,60,30,0.6) !important; box-shadow: 0 0 22px rgba(50,180,80,0.35) !important; animation: correctPulse 0.5s ease 2; }
.answer-btn.correct .answer-label { background: #2E8B57; border-color: #66BB6A; color: #fff; }
.answer-btn.wrong { border-color: var(--red) !important; background: rgba(80,5,20,0.6) !important; box-shadow: 0 0 22px rgba(195,7,63,0.3) !important; animation: shake 0.4s ease; }
.answer-btn.wrong .answer-label { background: var(--red); border-color: #FF5080; color: #fff; }
.answer-btn:disabled { cursor: default; }
@keyframes correctPulse { 0%,100%{transform:scale(1)} 50%{transform:scale(1.02)} }
@keyframes shake { 0%,100%{transform:translateX(0)} 20%{transform:translateX(-6px)} 40%{transform:translateX(6px)} 60%{transform:translateX(-4px)} 80%{transform:translateX(4px)} }
.quiz-submit-row { display: flex; justify-content: center; margin-top: 14px; animation: slideUp 0.65s cubic-bezier(0.34,1.2,0.64,1) 0.15s both; }
@keyframes slideUp { from{transform:translateY(30px);opacity:0} to{transform:translateY(0);opacity:1} }
.result-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.82); display: none; align-items: center; justify-content: center; z-index: 700; backdrop-filter: blur(12px); }
.result-overlay.show { display: flex; }
.result-box { position: relative; text-align: center; padding: 50px 44px 40px; border-radius: 20px; max-width: 440px; width: 92%; overflow: hidden; animation: popIn 0.5s cubic-bezier(0.34,1.56,0.64,1); }
.result-box::before { content:''; position:absolute; top:0; left:0; right:0; height:3px; }
.result-box.success { background: linear-gradient(160deg, rgba(5,28,12,0.97), rgba(10,55,20,0.97), rgba(5,28,12,0.97)); border: 1.5px solid rgba(46,139,87,0.55); box-shadow: 0 0 80px rgba(40,160,70,0.25), 0 24px 80px rgba(0,0,0,0.8); }
.result-box.success::before { background:linear-gradient(90deg, transparent, #2E8B57, #A5D6A7, #2E8B57, transparent); box-shadow:0 0 12px rgba(70,200,100,0.7); }
.result-box.fail { background: linear-gradient(160deg, rgba(28,4,10,0.97), rgba(70,0,18,0.97), rgba(28,4,10,0.97)); border: 1.5px solid rgba(195,7,63,0.55); box-shadow: 0 0 80px rgba(195,7,63,0.2), 0 24px 80px rgba(0,0,0,0.8); }
.result-box.fail::before { background:linear-gradient(90deg, transparent, var(--red), #FF80A0, var(--red), transparent); box-shadow:0 0 12px rgba(195,7,63,0.7); }
.result-icon { font-size: 72px; display:block; margin-bottom:16px; animation: iconDrop 0.6s cubic-bezier(0.34,1.56,0.64,1) 0.2s both; }
@keyframes iconDrop { from{transform:scale(0) rotate(-30deg);opacity:0} to{transform:scale(1) rotate(0);opacity:1} }
.result-title { font-family: var(--fh); font-size: 1.6rem; font-weight: 900; line-height: 1.4; margin-bottom: 10px; color: var(--white); text-transform: uppercase; }
.result-sub { font-family: var(--fb); font-size: 0.88rem; color: rgba(220,200,180,0.8); margin-bottom: 28px; line-height: 1.65; }
.btn-gold-shimmer { position: relative; overflow: hidden; background: linear-gradient(130deg, #B8860B 0%, #D4AF37 40%, #F0D060 55%, #D4AF37 70%, #B8860B 100%); background-size: 300%; color: #1a0400; border: 1px solid rgba(240,208,96,0.5); border-radius: 12px; padding: 14px 36px; font-family: var(--fh); font-size: 0.88rem; font-weight: 700; letter-spacing: 1.5px; text-transform: uppercase; cursor: pointer; box-shadow: 0 5px 28px rgba(212,175,55,0.55), 0 0 40px rgba(212,175,55,0.2); animation: shimmer 2s linear infinite; transition: transform 0.3s, box-shadow 0.3s; }
.btn-gold-shimmer:hover { transform: scale(1.04) translateY(-2px); box-shadow: 0 8px 40px rgba(212,175,55,0.75), 0 0 60px rgba(212,175,55,0.35); }

/* ════════════════════ WHEEL POPPED ════════════════════ */
.wheel-page { position: relative; min-height: 100vh; display: flex; flex-direction: column; background: radial-gradient(ellipse 80% 60% at 50% 0%, rgba(100,10,10,0.35) 0%, transparent 65%), var(--bg); }
.wheel-hero { text-align: center; padding: 28px 20px 20px; position: relative; z-index: 2; animation: slideUp 0.6s ease both; }
.wheel-hero-logo { height: 64px; width: auto; object-fit: contain; margin-bottom: 12px; filter: drop-shadow(0 0 20px var(--gold-glow)); animation: logoFloat 4s ease-in-out infinite; }
.wheel-title { font-family: var(--fh); font-weight: 900; font-size: clamp(1.15rem, 3vw, 1.8rem); background: linear-gradient(135deg, #F0D060, #D4AF37, #F0D060); background-size: 300%; -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; animation: shimmer 3s linear infinite; margin-bottom: 4px; text-transform: uppercase; }
.wheel-subtitle { color: var(--text-sub); font-size: 0.85rem; font-weight: 400; }

.wheel-stage { display: grid; grid-template-columns: 140px 1fr 140px; align-items: end; gap: 10px; padding: 0 12px; position: relative; z-index: 2; flex: 1; perspective: 1200px; overflow-y: hidden; }

/* POPPED OUT GENERALS in WHEEL STAGE */
.general-flank { display:flex; flex-direction:column; align-items:center; height: 350px; justify-content: flex-end; position: relative; }
.flank-img { width: auto; min-width: 100px; height: 300px; object-fit: contain; object-position: bottom center; border: none; border-radius: 0; box-shadow: none; filter: drop-shadow(0 10px 20px rgba(0,0,0,0.8)); transition: all 0.4s ease; animation: idleBreathe 4s ease-in-out infinite; mask-image: linear-gradient(to top, transparent 0%, black 10%, black 100%); -webkit-mask-image: linear-gradient(to top, transparent 0%, black 10%, black 100%); }
.general-flank:hover .flank-img { filter: drop-shadow(0 0 25px rgba(212,175,55,0.4)) drop-shadow(0 10px 40px rgba(0,0,0,0.9)); transform: scale(1.05); }
.flank-name { display: none; }
@keyframes idleBreathe { 0%,100%{ transform: scale(1); filter: drop-shadow(0 10px 20px rgba(0,0,0,0.8)); } 50%{ transform: scale(1.02); filter: drop-shadow(0 15px 30px rgba(212,175,55,0.15)) drop-shadow(0 10px 20px rgba(0,0,0,0.8)); } }
.left-flank  { animation: slideInLeft  0.8s cubic-bezier(0.34,1.3,0.64,1) 0.2s both; }
.right-flank { animation: slideInRight 0.8s cubic-bezier(0.34,1.3,0.64,1) 0.35s both; }
@keyframes slideInLeft  { from{transform:translateX(-60px) opacity:0} to{transform:none;opacity:1} }
@keyframes slideInRight { from{transform:translateX(60px)  opacity:0} to{transform:none;opacity:1} }

.wheel-center-col { display: flex; flex-direction: column; align-items: center; animation: slideUp 0.7s ease 0.1s both; padding-bottom: 20px; }
.wheel-outer { position: relative; width: 340px; height: 340px; transform-style: preserve-3d; }
.wheel-rays { position: absolute; top:50%; left:50%; width: 480px; height: 480px; transform: translate(-50%,-50%); background: repeating-conic-gradient(rgba(212,175,55,0.035) 0deg 15deg, transparent 15deg 30deg); border-radius: 50%; animation: raysSpin 22s linear infinite; pointer-events:none; }
@keyframes raysSpin { to { transform: translate(-50%,-50%) rotate(360deg); } }
.wheel-pointer { position: absolute; top: -22px; left: 50%; transform: translateX(-50%); z-index: 20; font-size: 34px; color: var(--gold); filter: drop-shadow(0 0 10px rgba(212,175,55,0.9)) drop-shadow(0 2px 4px rgba(0,0,0,0.8)); animation: pointerPulse 1.6s ease-in-out infinite; }
@keyframes pointerPulse { 0%,100%{transform:translateX(-50%) scale(1);filter:drop-shadow(0 0 8px rgba(212,175,55,0.7))} 50%{transform:translateX(-50%) scale(1.18);filter:drop-shadow(0 0 18px rgba(255,215,0,1))} }
.wheel-canvas { width: 340px; height: 340px; border-radius: 50%; box-shadow: 0 0 0 4px rgba(212,175,55,0.6), 0 0 0 9px rgba(212,175,55,0.12), 0 0 60px rgba(212,175,55,0.3), 0 0 110px rgba(138,3,3,0.2), 0 22px 60px rgba(0,0,0,0.85); animation: wheelGlow 2.8s ease-in-out infinite; }
@keyframes wheelGlow { 0%,100%{box-shadow:0 0 0 4px rgba(212,175,55,0.6),0 0 0 9px rgba(212,175,55,0.12),0 0 60px rgba(212,175,55,0.3),0 0 110px rgba(138,3,3,0.2),0 22px 60px rgba(0,0,0,0.85)} 50%{box-shadow:0 0 0 5px rgba(255,215,0,0.85),0 0 0 12px rgba(212,175,55,0.22),0 0 80px rgba(255,180,0,0.5),0 0 140px rgba(200,10,20,0.3),0 22px 70px rgba(0,0,0,0.88)} }
.wheel-center-btn { position: absolute; top:50%; left:50%; transform: translate(-50%,-50%); width: 64px; height: 64px; border-radius: 50%; background: radial-gradient(circle, #8A0303, #4A0000 70%); border: 3px solid var(--gold); display: flex; align-items: center; justify-content: center; font-family: var(--fh); font-size: 0.5rem; font-weight: 900; color: var(--gold-light); letter-spacing:1px; text-transform:uppercase; text-align:center; line-height:1.2; cursor: pointer; z-index: 15; box-shadow: 0 0 22px rgba(138,3,3,0.7), 0 0 40px rgba(212,175,55,0.4), 0 4px 15px rgba(0,0,0,0.6); transition: transform 0.2s cubic-bezier(0.34,1.56,0.64,1), box-shadow 0.2s; }
.wheel-center-btn:hover { transform: translate(-50%,-50%) scale(1.08); box-shadow: 0 0 30px rgba(195,7,63,0.8), 0 0 60px rgba(212,175,55,0.55); }
.wheel-center-btn:active { transform: translate(-50%,-50%) scale(0.93); }
.wheel-center-btn.spinning { cursor:not-allowed; opacity:0.55; }
.spin-btn { margin-top: 24px; padding: 16px 54px; font-family: var(--fh); font-size: 1.1rem; font-weight: 900; letter-spacing: 4px; text-transform: uppercase; background: linear-gradient(130deg, #8A0303, var(--red), #8A0303); background-size: 300%; color: var(--gold-light); border: 1.5px solid rgba(212,175,55,0.5); border-radius: 50px; cursor: pointer; position: relative; overflow: hidden; box-shadow: 0 6px 32px rgba(195,7,63,0.5), inset 0 1px 0 rgba(255,255,255,0.1); transition: all 0.4s cubic-bezier(0.34,1.3,0.64,1); }
.spin-btn::before { content:''; position:absolute; top:0; left:-100%; width:55%; height:100%; background:linear-gradient(90deg, transparent, rgba(255,255,255,0.18), transparent); transform:skewX(-20deg); transition:left 0.6s; }
.spin-btn:hover::before { left:150%; }
.spin-btn:hover { background-position:100% 0; transform:scale(1.05) translateY(-2px); box-shadow:0 10px 44px rgba(195,7,63,0.65), 0 0 30px rgba(212,175,55,0.35); }
.spin-btn:disabled { opacity:0.4; cursor:not-allowed; transform:none !important; }
.bottom-generals { display: flex; justify-content: center; gap: 20px; padding: 20px 20px 32px; position: relative; z-index: 2; animation: slideUp 0.9s ease 0.5s both; }
.bottom-gen-wrap { display:flex; flex-direction:column; align-items:center; gap:6px; transition:transform 0.4s; cursor:pointer; }
.bottom-gen-wrap:hover { transform:translateY(-8px) scale(1.04); }
.bottom-gen-img { width:82px; border-radius:10px; border:1.5px solid rgba(212,175,55,0.35); box-shadow:0 8px 28px rgba(0,0,0,0.7); object-fit:cover; object-position:top; aspect-ratio:3/4; transition:all 0.4s; }
.bottom-gen-wrap:hover .bottom-gen-img { border-color:rgba(212,175,55,0.8); box-shadow:0 12px 40px rgba(0,0,0,0.85),0 0 25px rgba(212,175,55,0.4); }
.bottom-gen-name { display: none; }
@media (min-width: 769px) { .bottom-generals { display: none; } }
.prize-popup { position:fixed; inset:0; background:rgba(0,0,0,0.9); display:none; align-items:center; justify-content:center; z-index:999; backdrop-filter:blur(14px); }
.prize-popup.show { display:flex; }
.prize-content { position:relative; text-align:center; padding:50px 44px 38px; background: linear-gradient(160deg, rgba(10,8,0,0.99), rgba(30,22,2,0.99)); border: 1.5px solid var(--gold); border-radius: 22px; max-width: 440px; width: 92%; animation: prizeReveal 0.85s cubic-bezier(0.34,1.56,0.64,1); box-shadow: 0 0 90px rgba(212,175,55,0.35), 0 0 180px rgba(138,3,3,0.2), 0 30px 80px rgba(0,0,0,0.9); overflow: hidden; }
.prize-content::before { content:''; position:absolute; top:0; left:0; right:0; height:3px; background:linear-gradient(90deg, transparent, var(--gold), var(--gold-light), var(--gold), transparent); box-shadow:0 0 18px rgba(255,215,0,0.9); }
.prize-gif { font-size:70px; display:block; margin-bottom:14px; animation:iconDrop 0.7s cubic-bezier(0.34,1.56,0.64,1) 0.3s both; }
.prize-content h2 { font-family:var(--fh); color:var(--gold-light); font-size:1rem; letter-spacing:2px; text-transform:uppercase; margin-bottom:18px; }
.prize-badge { display:inline-block; padding:14px 34px; background:linear-gradient(130deg, #8A0303, #D4AF37 40%, #8A0303); background-size:300%; color:var(--gold-light); font-family:var(--fh); font-size:1.35rem; font-weight:900; border-radius:10px; margin:14px 0 22px; box-shadow:0 6px 28px rgba(212,175,55,0.5),0 0 40px rgba(195,7,63,0.25); animation:shimmer 2s linear infinite; }
.prize-content p { color:var(--text-sub); font-size:0.88rem; margin-bottom:24px; line-height:1.6; }
@keyframes popIn { from{transform:scale(0.45) translateY(40px);opacity:0} to{transform:scale(1) translateY(0);opacity:1} }
@keyframes prizeReveal { from{transform:scale(0) rotate(-18deg);opacity:0} to{transform:scale(1) rotate(0);opacity:1} }
.confetti, .confetti-piece { position:fixed; top:-15px; width:10px; height:12px; z-index:1000; border-radius:2px; animation:cfFall linear forwards; }
@keyframes cfFall { to { transform:translateY(110vh) rotate(720deg); opacity:0; } }
.gold-particle { position:fixed; width:6px; height:6px; border-radius:50%; background:var(--gold); z-index:900; pointer-events:none; animation:particleFall var(--dur, 2s) ease-out var(--delay, 0s) forwards; }
@keyframes particleFall { 0%{transform:translateY(0) scale(1);opacity:1} 100%{transform:translateY(100vh) scale(0);opacity:0} }
@media (max-width: 720px) { .header-inner { padding: 12px 18px; gap: 14px; } .header-logo { height: 46px; } .header-text h1 { font-size: 1rem; letter-spacing: 1px; } .container { padding: 24px 14px; } .wheel-stage { grid-template-columns:1fr; justify-items:center; gap:0; height: auto; } .left-flank, .right-flank { display:none; } .wheel-outer { width:290px; height:290px; } .wheel-canvas { width:290px !important; height:290px !important; } .bottom-generals { display: flex; } }
@media (max-width: 480px) { .answers-grid { grid-template-columns: 1fr; } .generals-row { gap:14px; height: auto !important; margin: 0 0 20px !important; align-items: flex-start !important; } .general-card { width: 31%; height: auto !important; aspect-ratio: 2/3; } .general-img-wrap { align-items: flex-start !important; } .general-img-wrap img { max-height: 100% !important; object-fit: cover; } .wheel-outer { width:265px; height:265px; } .wheel-canvas { width:265px !important; height:265px !important; } .feature-grid { grid-template-columns:1fr; } .prizes-preview { grid-template-columns:repeat(3,1fr); } .hero { padding: 20px 20px 0 !important; } .hero h2 { letter-spacing: 0 !important; font-size: clamp(0.8rem, 3.4vw, 1rem) !important; margin-bottom: 8px !important; } .hero p { margin-bottom: 4px !important; font-size: 0.85rem !important; } .hero-logo { margin-bottom: 8px !important; } }
